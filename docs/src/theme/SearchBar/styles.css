@import "tailwindcss";

/* Search Bar Button */
.search-bar-button {
  @apply flex items-center gap-2 py-1 px-1 rounded-md bg-slate-100! text-slate-600 cursor-pointer text-sm transition-all duration-150 ease-in-out min-w-48 m-0;
  @apply hover:border hover:border-black hover:bg-slate-500 hover:text-black;
}

.search-bar-placeholder {
  @apply flex-1 text-left;
}

.search-bar-shortcut {
  @apply text-[0.6875rem] py-px px-1.5! border border-solid border-slate-200! rounded bg-slate-100! text-slate-500 font-[inherit];
}

/* Mobile: icon-only search button */
@media (max-width: 768px) {
  .search-bar-button {
    @apply min-w-0 p-1.5 border-transparent! bg-transparent! shadow-none;
  }
  .search-bar-button:hover {
    @apply bg-slate-100! border-transparent!;
  }
  .search-bar-placeholder,
  .search-bar-shortcut {
    @apply hidden;
  }
}

/* Modal Overlay */
.search-modal-overlay {
  @apply fixed inset-0 z-[1000] bg-black/50! flex items-center justify-center p-8! backdrop-blur-sm;
  -webkit-backdrop-filter: blur(4px);
}

/* Modal */
.search-modal {
  @apply w-full max-w-[560px] min-h-[280px] max-h-[min(70vh,600px)] bg-white! border border-solid border-slate-300! rounded-xl shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3),0_0_0_1px_rgba(0,0,0,0.05)] flex flex-col overflow-hidden;
}

/* Mobile: fullscreen modal */
@media (max-width: 768px) {
  .search-modal-overlay {
    @apply mt-0 bg-black/70!;
  }
  .search-modal {
    @apply w-full max-w-full min-h-screen max-h-screen rounded-none border-none!;
  }
}

/* Modal Header */
.search-modal-header {
  @apply flex items-center gap-3! py-4 px-5! border-b border-solid border-slate-200! bg-white!;
}

.search-icon {
  @apply shrink-0 text-slate-400;
}

.search-input {
  @apply flex-1 border-none! outline-none bg-transparent! text-[1.0625rem] text-slate-800 font-[inherit] py-1.5 px-1!;
}

.search-input::placeholder {
  @apply text-slate-400;
}

.search-modal-close {
  @apply shrink-0 bg-transparent! border-none! cursor-pointer p-1!;
}

.search-modal-close kbd {
  @apply text-xs py-0.5 px-1.5! border border-solid border-slate-300! rounded bg-slate-100! text-slate-500 font-[inherit];
}

/* Modal Body */
.search-modal-body {
  @apply flex-1 overflow-y-auto p-0! bg-white!;
}

.search-empty {
  @apply flex items-center justify-center text-center py-12 px-6! text-slate-500 text-[0.9rem] min-h-40;
}

/* Result Items */
.search-result-item {
  @apply block w-full text-left py-4 px-4! border-none! bg-transparent! cursor-pointer rounded-lg font-[inherit] text-slate-800;
}

.search-result-item + .search-result-item {
  @apply mt-1!;
}

.search-result-item:hover,
.search-result-item--selected {
  @apply bg-blue-50!;
}

.search-result-title {
  @apply font-semibold text-[0.9375rem] mb-1!;
}

.search-result-heading {
  @apply text-[0.8125rem] text-blue-500 mb-1!;
}

.search-result-snippet {
  @apply text-[0.8125rem] text-slate-600 leading-snug line-clamp-2;
}

.search-result-item mark {
  @apply bg-blue-100! text-blue-700 px-0.5! rounded-sm font-semibold;
}

.search-result-item--selected mark {
  @apply bg-blue-200!;
}

/* Modal Footer */
.search-modal-footer {
  @apply flex gap-6! py-2 px-4! border-t border-solid border-slate-200! text-xs text-slate-500 bg-slate-50!;
}

.search-modal-footer kbd {
  @apply text-[0.6875rem] py-px px-1! border border-solid border-slate-300! rounded-sm bg-slate-100! mr-1! font-[inherit];
}

@media (max-width: 768px) {
  .search-modal-footer {
    @apply hidden;
  }
}
